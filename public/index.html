<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Firebase</title>
  </head>
  <body>
    <h1>Welcome to Firebase</h1>
    <h3>Have fun with firebase</h3>
  </body>

  <script src="https://www.gstatic.com/firebasejs/5.10.0/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyA128tacCTrHdf3uBxUJpQjEE9mIwvatKQ",
      authDomain: "firstpro-2d6e9.firebaseapp.com",
      databaseURL: "https://firstpro-2d6e9.firebaseio.com",
      projectId: "firstpro-2d6e9",
      storageBucket: "firstpro-2d6e9.appspot.com",
      messagingSenderId: "557425118479"
    };
    firebase.initializeApp(config);

    // reference database
    var db = firebase.database();
    var playersRef = db.ref('players');

    // show data
    playersRef.on('value', showData, showError);

    // Notification
    playersRef.on('child_added', userAdded);
    playersRef.on('child_changed', userChanged);

    function showData(items){
      // console.log(items.val())
    }

    function userAdded(items){
      console.log("Congratulation! success add user")
      console.log(items.val())
    }

    function userChanged(items){
      console.log("Congratulation! success changed user " + items.val().name)
    }

    function showError(items){
      console.log(err)
    }

  </script>

</html>
